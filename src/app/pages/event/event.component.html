<div class="header-spacer header-spacer-small"></div>
<app-header-page></app-header-page>
<div class="container">
	<div class="row">
		<div class="col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
			<div class="ui-block responsive-flex">
				<div class="ui-block-title">
					<ul class="nav nav-tabs calendar-events-tabs" id="calendar-events-tabs" role="tablist">
						<li class="nav-item" role="presentation">
							<a class="nav-link active" id="events-tab" data-bs-toggle="tab" href="#events" role="tab"
								aria-controls="home" aria-selected="true">
								Calendrier
							</a>
						</li>

						<li class="nav-item" role="presentation" *ngIf="eventList.length==0">
							<a class="nav-link" id="notifications-tab" data-bs-toggle="tab" href="#notifications"
								role="tab" aria-controls="home" aria-selected="false">
								Évènements
							</a>
						</li>

						<li class="nav-item" role="presentation" *ngIf="eventList.length!=0">
							<a class="nav-link" id="notifications-tab" data-bs-toggle="tab" href="#notifications"
								role="tab" aria-controls="home" aria-selected="false">
								Évènements <span class="items-round-little bg-breez">{{eventList.length}}</span>
							</a>
						</li>

					</ul>

				</div>
			</div>
		</div>
	</div>
</div>

<!-- Tab panes -->
<div class="tab-content" id="calendar-events-tabs-content">
	<div class="tab-pane fade show active" id="events" role="tabpanel" aria-labelledby="events-tab">
		<div class="container">
			<div class="row">
				<div class="col col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
					<div class="ui-block">
						<app-today-event-breadcrumb (selectEvent)="selectEvent($event)"></app-today-event-breadcrumb>		

					</div>
				</div>
				<div class="col col-xl-8 col-lg-8 col-md-12 col-sm-12 col-12">
					<div class="ui-block">
						<app-calendar-interact-widget (selectEvent)="selectEvent($event)"></app-calendar-interact-widget>
					</div>

				</div>
			</div>
		</div>
	</div>

	<div class="tab-pane fade" id="notifications" role="tabpanel" aria-labelledby="notifications-tab">
		<div class="container">
			<div class="row">
				<div class="col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
					<div class="ui-block">
						<div class="container">
							<div class="row justify-content-center" *ngIf="hasLoadEventList==false">
								<div class="col col-sm-4" style="margin-top: 20px;">
									<span class="fs-6" >Chargement de la liste de vos évènement...</span>
								</div>
							</div>
							<div class="row" *ngIf="hasLoadEventList==false" >
								<app-progress-indeterminate></app-progress-indeterminate>
							</div>
							<div class="row justify-content-center" *ngIf="hasLoadEventList==true && eventList.length==0" >
								<div class="col col-sm-4" style="margin-top: 20px;">
									<span class="fs-6" >Aucune donnée trouvé</span>
								</div>
							</div>
						</div>

						<table *ngIf="hasLoadEventList==true" class="event-item-table event-item-table-fixed-width">

							<thead>

								<tr>

									<th class="author">
										ÉVÈNEMENTS
									</th>

									<th class="location">
										LIEUX
									</th>

									<th class="upcoming">
										DATES
									</th>

									<th class="description">
										DESCRIPTIONS
									</th>

									<th class="users">
										PARTICIPANTS
									</th>

									<th class="add-event">

									</th>
								</tr>

							</thead>

							<tbody>
								<tr class="event-item" *ngFor="let event of eventList">
									<td class="author">
										<div class="event-author inline-items">
											<div class="author-thumb">
												<img loading="lazy" [src]="event.user.photoUrl"
													width="34" height="34" alt="author">
											</div>
											<div class="author-date">
												<a class="author-name h6">{{event.event.name}}</a>
												<br> Par <a>{{event.user.getPrintableName()}}</a>
											</div>
										</div>
									</td>
									<td class="location">
										<div class="place inline-items">
											<svg class="olymp-add-a-place-icon">
												<use xlink:href="#olymp-add-a-place-icon"></use>
											</svg>
											<span>{{event.event.place}}</span>
										</div>
									</td>
									<td class="upcoming">
										<div class="date-event inline-items align-left">

											<span class="month mb-2"><b>Début:</b> {{getStringDate(event.event.startDate,event.event.startTime)}}</span> <br>
											<span class="month "><b>Fin:</b> {{getStringDate(event.event.endDate,event.event.endTime)}}</span>

										</div>
									</td>
									<td class="description">
										<p class="description">
											{{event.event.description}}
										</p>
									</td>
									<td class="users">
										<ul class="friends-harmonic">
											<li>
												<a>
													<img loading="lazy" src="./../../../assets/img/img/user.jpeg"
														alt="friend" width="28" height="28">
												</a>
											</li>
											<li>
												<a>
													<img loading="lazy" src="./../../../assets/img/img/user.jpeg"
														alt="friend" width="28" height="28">
												</a>
											</li>
											<li>
												<a>
													<img loading="lazy" src="./../../../assets/img/img/user.jpeg"
														alt="friend" width="28" height="28">
												</a>
											</li>
											
											<li>
												<a class="all-users bg-breez">
												<span *ngIf="event.event.getSpecialActionNumber()!=0">+</span>
												{{event.event.getSpecialActionNumber()}}</a>
											</li>
										</ul>
									</td>
									<td class="add-event">
										<a class="btn btn-sm btn-border-think custom-color c-grey" (click)="selectEvent(event.event.id.toString())">Détails</a>
										<a [routerLink]="['/page/ellection/',event.event.id.toString()]" class="btn btn-breez btn-sm" *ngIf="event.event.eventType=='vote_event'" >Passer au vote</a>
										<a class="btn btn-breez btn-sm" *ngIf="event.event.eventType!='vote_event'">Acheter le billet</a>
									</td>
								</tr>

								<tr class="event-item">
									<td class="author">
										<div class="event-author inline-items">
											<div class="author-thumb">
												<img loading="lazy" src="./../../../assets/img/img/MEUdM.jpeg"
													width="34" height="34" alt="author">
											</div>
											<div class="author-date">
												<a class="author-name h6">Bal UdM</a>
												<br> Par <a>Mutuelle UdM</a>
											</div>
										</div>
									</td>
									<td class="location">
										<div class="place inline-items">
											<svg class="olymp-add-a-place-icon">
												<use xlink:href="#olymp-add-a-place-icon"></use>
											</svg>
											<span>MAJESTIC, Bangangté</span>
										</div>
									</td>
									<td class="upcoming">
										<div class="date-event inline-items align-left">

											<span class="month"><b>Début:</b> 05 Fév 2022 à 19:00</span> <br>
											<span class="month"><b>Fin:</b> 05 Fév 2022 à 19:00</span>

										</div>
									</td>
									<td class="description">
										<p class="description">
											La toute première édition de l'évènement.
											<br> Venez assiter à la rencontre des anciens étudiants de l'université des
											montagnes qui se tiendra dans quelque jours.
											<br> On reconnait l'arbre à ses fruits.
											<br>Nous vibrons à l'unisson.
										</p>
									</td>
									<td class="users">
										<ul class="friends-harmonic">
											<li>
												<a>
													<img loading="lazy" src="./../../../assets/img/img/user.jpeg"
														alt="friend" width="28" height="28">
												</a>
											</li>
											<li>
												<a>
													<img loading="lazy" src="./../../../assets/img/img/user.jpeg"
														alt="friend" width="28" height="28">
												</a>
											</li>
											<li>
												<a>
													<img loading="lazy" src="./../../../assets/img/img/user.jpeg"
														alt="friend" width="28" height="28">
												</a>
											</li>
											<li>
												<a>
													<img loading="lazy" src="./../../../assets/img/img/user.jpeg"
														alt="friend" width="28" height="28">
												</a>
											</li>
											<li>
												<a>
													<img loading="lazy" src="./../../../assets/img/img/user.jpeg"
														alt="friend" width="28" height="28">
												</a>
											</li>
											<li>
												<a class="all-users bg-breez">+64</a>
											</li>
										</ul>
									</td>
									<td class="add-event">
										<a class="btn btn-sm btn-border-think custom-color c-grey"
											data-bs-toggle="modal" data-bs-target="#bal-udm">Détails</a>
										<a href="20-CalendarAndEvents-MonthlyCalendar.html"
											class="btn btn-breez btn-sm">Acheter le billet</a>
									</td>
								</tr>
								<tr class="event-item">
									<td class="author">
										<div class="event-author inline-items">
											<div class="author-thumb">
												<img loading="lazy" src="./../../../assets/img/img/MEUdM.jpeg"
													width="34" height="34" alt="author">
											</div>
											<div class="author-date">
												<a class="author-name h6">Miss & Mister UdM</a>
												<br> Par <a>Mutuelle UdM</a>
											</div>
										</div>
									</td>
									<td class="location">
										<div class="place inline-items">
											<svg class="olymp-add-a-place-icon">
												<use xlink:href="#olymp-add-a-place-icon"></use>
											</svg>
											<span>MAJESTIC, Bangangté</span>
										</div>
									</td>
									<td class="upcoming">
										<div class="date-event inline-items align-left">
											<svg class="olymp-small-calendar-icon">
												<use xlink:href="#olymp-small-calendar-icon"></use>
											</svg>

											<span class="month"><b>Début:</b> 05 Fév 2022 à 19:00</span> <br>
											<span class="month"><b>Fin:</b> 05 Fév 2022 à 19:00</span>

										</div>
									</td>
									<td class="description">
										<p class="description">
											La beauté et l'élégance UdMoise misent en valeur.
											<br> Venez faire votre choix.
										</p>
									</td>
									<td class="users">
										<ul class="friends-harmonic">
											<li>
												<a>
													<img loading="lazy" src="./../../../assets/img/img/user.jpeg"
														alt="friend" width="28" height="28">
												</a>
											</li>
											<li>
												<a>
													<img loading="lazy" src="./../../../assets/img/img/user.jpeg"
														alt="friend" width="28" height="28">
												</a>
											</li>
											<li>
												<a>
													<img loading="lazy" src="./../../../assets/img/img/user.jpeg"
														alt="friend" width="28" height="28">
												</a>
											</li>
											<li>
												<a>
													<img loading="lazy" src="./../../../assets/img/img/user.jpeg"
														alt="friend" width="28" height="28">
												</a>
											</li>
											<li>
												<a>
													<img loading="lazy" src="./../../../assets/img/img/user.jpeg"
														alt="friend" width="28" height="28">
												</a>
											</li>
											<li>
												<a class="all-users bg-breez">+128</a>
											</li>
										</ul>
									</td>
									<td class="add-event">
										<a class="btn btn-sm btn-border-think custom-color c-grey"
											data-bs-toggle="modal" data-bs-target="#miss-mister">Détails</a>
											<a (click)="navigateToEllection()" class="btn btn-breez btn-sm">Passer au vote</a>
									</td>
								</tr>
								<tr class="event-item">
									<td class="author">
										<div class="event-author inline-items">
											<div class="author-thumb">
												<img loading="lazy" src="./../../../assets/img/img/oneH.png"
													alt="author" width="34" height="34">
											</div>
											<div class="author-date">
												<a class="author-name h6">UdM One Heart </a>
												<br> Par <a> UdM</a>
											</div>
										</div>
									</td>
									<td class="location">
										<div class="place inline-items">
											<svg class="olymp-add-a-place-icon">
												<use xlink:href="#olymp-add-a-place-icon"></use>
											</svg>
											<span>Daydreamz Agency</span>
										</div>
									</td>
									<td class="upcoming">
										<div class="date-event inline-items align-left">
											<svg class="olymp-small-calendar-icon">
												<use xlink:href="#olymp-small-calendar-icon"></use>
											</svg>

											<span class="month"><b>Début:</b> 05 Fév 2022 à 19:00</span> <br>
											<span class="month"><b>Fin:</b> 05 Fév 2022 à 19:00</span>

										</div>
									</td>
									<td class="description">
										<p class="description">
											La toute première édition de l'évènement.
											<br> Venez assiter à la rencontre des anciens étudiants de l'université des
											montagnes qui se tiendra dans quelque jours.
											<br> On reconnait l'arbre à ses fruits. Nous vibrons à l'unisson.
										</p>
									</td>
									<td class="users">
										<ul class="friends-harmonic">
											<li>
												<a>
													<img loading="lazy" src="./../../../assets/img/img/user.jpeg"
														alt="friend" width="28" height="28">
												</a>
											</li>
											<li>
												<a>
													<img loading="lazy" src="./../../../assets/img/img/user.jpeg"
														alt="friend" width="28" height="28">
												</a>
											</li>
											<li>
												<a>
													<img loading="lazy" src="./../../../assets/img/img/user.jpeg"
														alt="friend" width="28" height="28">
												</a>
											</li>
											<li>
												<a>
													<img loading="lazy" src="./../../../assets/img/img/user.jpeg"
														alt="friend" width="28" height="28">
												</a>
											</li>
											<li>
												<a>
													<img loading="lazy" src="./../../../assets/img/img/user.jpeg"
														alt="friend" width="28" height="28">
												</a>
											</li>
											<li>
												<a class="all-users bg-breez">+105</a>
											</li>
										</ul>
									</td>
									<td class="add-event">
										<a class="btn btn-sm btn-border-think custom-color c-grey">Contacter
											l'organisateur</a>
											<a href="20-CalendarAndEvents-MonthlyCalendar.html"
												class="btn btn-breez btn-sm">Acheter le billet</a>
									</td>
								</tr>
							</tbody>
						</table>

					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<app-show-modal-details-event [hasLoadDetailEvent]="hasLoadDetailEvent" [owner]="selectedUserCreator" [event]="selectedEvent"></app-show-modal-details-event>

<!-- ... end Window-popup Event Public -->

<!-- Window-popup Event Private Public -->


<!-- Window-popup Create Event -->

<div class="modal fade" id="create-event" tabindex="-1" role="dialog" aria-labelledby="create-event" aria-hidden="true">
	<div class="modal-dialog window-popup create-event" role="document">
		<div class="modal-content">
			<a class="close icon-close" id="event-form-closed"  data-bs-dismiss="modal" aria-label="Close">
				<svg class="olymp-close-icon">
					<use xlink:href="#olymp-close-icon"></use>
				</svg>
			</a>
			<div class="modal-header">
				<h6 class="title">Créer un évènement</h6>
			</div>

			<div class="modal-body">
				<app-form-new-event (submitSuccessCreatedEvent)="closeCreateEventForm()"></app-form-new-event>

			</div>
		</div>
	</div>
</div>
<!-- ... end Window-popup Create Event -->
